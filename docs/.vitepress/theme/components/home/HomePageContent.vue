<script setup lang="ts">
import { computed } from 'vue'
import { talks } from '../../../../data/talks'
import TalkItem from '../talk/TalkItem.vue'
import HomeStatsSection from './HomeStatsSection.vue'

// åªæ˜¾ç¤ºæœ€æ–°çš„5æ¡è¯´è¯´
const recentTalks = computed(() => talks.slice(0, 5))
</script>

<template>
  <div class="mx-auto max-w-280 px-6 py-16">
    <!-- æœ€æ–°åŠ¨æ€ -->
    <section class="mb-16">
      <div class="mb-8 text-center">
        <h2 class="mb-4 text-6 text-$vp-c-text-1 font-semibold">
          ğŸ’­ æœ€æ–°åŠ¨æ€
        </h2>
        <p class="text-4 text-$vp-c-text-2">
          åˆ†äº«æœ€æ–°çš„æŠ€æœ¯æ„Ÿæ‚Ÿ
        </p>
      </div>

      <NCard :bordered="true" class="talks-section">
        <NSpace
          v-if="recentTalks.length > 0"
          vertical
          :size="16"
        >
          <TalkItem
            v-for="(talk, index) in recentTalks"
            :key="index"
            :content="talk.content"
            :time="talk.date"
          />

          <!-- æŸ¥çœ‹æ›´å¤šæŒ‰é’® -->
          <div class="mt-6 text-center">
            <NButton
              type="primary"
              ghost
              tag="a"
              href="/talks"
              size="medium"
            >
              æŸ¥çœ‹æ›´å¤šè¯´è¯´ â†’
            </NButton>
          </div>
        </NSpace>

        <div v-else class="py-8 text-center">
          <div class="mb-4 text-8 opacity-50">
            ğŸ“
          </div>
          <p class="text-4 text-$vp-c-text-2">
            æš‚æ— è¯´è¯´å†…å®¹
          </p>
        </div>
      </NCard>
    </section>

    <!-- ç»Ÿè®¡ä¿¡æ¯ -->
    <HomeStatsSection />
  </div>
</template>

<style scoped>
.talks-section {
  padding: 24px;
}

@media (max-width: 768px) {
  .talks-section {
    padding: 16px;
  }
}
</style>
